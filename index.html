<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JDN - חדשות חרדים</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@400;700;800&display=swap');
        body { font-family: 'Assistant', sans-serif; background-color: #f2f2f2; margin: 0; }
        
        .header-top { background: linear-gradient(90deg, #17298D 0%, #2847F3 100%); border-bottom: 4px solid #e31e24; }
        .nav-bar { background: white; border-bottom: 1px solid #ddd; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .jdn-red { background-color: #e31e24; }

        .wrapper { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 300px; gap: 15px; padding: 15px; }
        
        /* גריד קוביות צפוף */
        .main-grid { display: grid; grid-template-columns: repeat(4, 1fr); grid-auto-rows: 200px; gap: 8px; }
        .main-card { grid-column: span 2; grid-row: span 2; position: relative; overflow: hidden; border-radius: 2px; }
        .sub-card { position: relative; overflow: hidden; background: #fff; border-radius: 2px; }

        .card-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .sub-card:hover .card-img, .main-card:hover .card-img { transform: scale(1.08); }

        .card-overlay { 
            position: absolute; bottom: 0; right: 0; left: 0; 
            background: linear-gradient(transparent, rgba(0,0,0,0.95)); 
            padding: 15px; color: white; z-index: 2;
        }

        .main-title { font-size: 1.9rem; font-weight: 800; line-height: 1.1; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .sub-title { font-size: 1.05rem; font-weight: 700; line-height: 1.2; }

        .side-ticker { background: white; border-top: 4px solid #17298D; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .ticker-head { background: #f8f8f8; padding: 12px; font-weight: 800; border-bottom: 2px solid #eee; color: #17298D; text-align: center; }
        .ticker-entry { padding: 12px; border-bottom: 1px solid #eee; font-size: 0.95rem; display: flex; gap: 10px; transition: background 0.2s; }
        .ticker-entry:hover { background: #fdfdfd; }
        .t-time { color: #e31e24; font-weight: bold; min-width: 45px; }

        @media (max-width: 1024px) { .wrapper { grid-template-columns: 1fr; } .side-ticker { display: none; } }
    </style>
</head>
<body>

    <div class="header-top py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <img src="https://www.jdn.co.il/wp-content/uploads/2022/01/logosite.png" class="h-16">
            <div class="hidden md:block text-white font-bold">האתר החרדי המוביל בעולם</div>
        </div>
    </div>

    <div class="nav-bar hidden md:block">
        <div class="container mx-auto px-4 flex gap-8 py-3 font-bold text-gray-800">
            <a href="#" class="hover:text-blue-700">דף הבית</a>
            <a href="#" class="hover:text-blue-700">חדשות</a>
            <a href="#" class="hover:text-blue-700">פוליטיקה</a>
            <a href="#" class="hover:text-blue-700">חצרות קודש</a>
            <a href="#" class="hover:text-blue-700">כלכלה</a>
            <a href="#" class="hover:text-blue-700">מגזין</a>
        </div>
    </div>

    <div class="jdn-red text-white py-2 font-bold shadow-md">
        <div class="container mx-auto px-4 flex items-center">
            <div class="bg-white text-red-600 px-3 ml-4 text-sm rounded">חדשות</div>
            <marquee behavior="scroll" direction="right" class="text-sm" id="marquee-list">טוען מבזקים אחרונים...</marquee>
        </div>
    </div>

    <div class="wrapper">
        <div class="main-grid" id="jdn-grid">
            </div>

        <aside class="side-ticker">
            <div class="ticker-head">מבזקי JDN</div>
            <div id="sidebar-list">
                </div>
        </aside>
    </div>

    <script>
        // כתבות דוגמה כדי שהאתר ייראה מלא מיד
        const dummyArticles = [
            { title: "דרמה פוליטית: המפלגות החרדיות מאיימות במשבר סביב חוק הגיוס", img: "https://www.jdn.co.il/wp-content/uploads/2024/02/shutterstock_2256784531.jpg", pos: "top" },
            { title: "חצרות קודש: שמחת הבר מצווה בבית האדמו\"ר", img: "https://www.jdn.co.il/wp-content/uploads/2024/02/IMG_8823.jpg", pos: "side" },
            { title: "סוער בבירה: מחאות תושבים נגד חילול השבת", img: "https://www.jdn.co.il/wp-content/uploads/2024/01/shutterstock_2121.jpg", pos: "side" },
            { title: "בניית היכל הישיבה החדש הושלמה", img: "https://www.jdn.co.il/wp-content/uploads/2022/10/build.jpg", pos: "side" },
            { title: "עליית מחירי מוצרי היסוד מכה במשפחות", img: "https://www.jdn.co.il/wp-content/uploads/2023/12/shutterstock_11234567.jpg", pos: "side" },
            { title: "תיעוד מרהיב: מעמד סיום הש"ס המרכזי", img: "https://www.jdn.co.il/wp-content/uploads/2024/01/shutterstock_2153361821-scaled.jpg", pos: "side" },
            { title: "שיא בהרשמה לישיבות לקראת זמן אלול", img: "https://www.jdn.co.il/wp-content/uploads/2023/11/shutterstock_2211.jpg", pos: "side" }
        ];

        const dummyTickers = [
            { title: "כביש 1: עומסי תנועה כבדים ממחלף ענבה", time: "21:10" },
            { title: "דיווח: הסתיים הדיון בבית הדין הגבוה", time: "20:45" },
            { title: "מזג האוויר: ירידה ניכרת בטמפרטורות מחר", time: "20:15" }
        ];

        async function renderSite() {
            const grid = document.getElementById('jdn-grid');
            const sidebar = document.getElementById('sidebar-list');
            const marquee = document.getElementById('marquee-list');

            // כאן המערכת תנסה למשוך כתבות אמיתיות
            try {
                const repo = "yy0534105830-source/news";
                const res = await fetch(`https://api.github.com/repos/${repo}/contents/content/blog`);
                const data = await res.json();
                
                if (data.length > 0) {
                    grid.innerHTML = ""; // מנקה את הדוגמאות אם יש כתבות אמיתיות
                    // ... (כאן יבוא הקוד למשיכת הנתונים האמיתיים)
                }
            } catch (e) { console.log("Showing dummy data"); }

            // הצגת הנתונים (דוגמה או אמיתי)
            dummyArticles.forEach(art => {
                grid.innerHTML += `
                    <div class="${art.pos === 'top' ? 'main-card' : 'sub-card'} shadow-lg cursor-pointer group">
                        <img src="${art.img}" class="card-img">
                        <div class="card-overlay">
                            <h2 class="${art.pos === 'top' ? 'main-title' : 'sub-title'}">${art.title}</h2>
                        </div>
                    </div>`;
            });

            dummyTickers.forEach(t => {
                sidebar.innerHTML += `
                    <div class="ticker-entry">
                        <span class="t-time">${t.time}</span>
                        <span>${t.title}</span>
                    </div>`;
            });
            marquee.innerHTML = dummyTickers.map(t => t.title).join(" • ");
        }

        renderSite();
    </script>
</body>
</html>
