<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JDN - אתר החדשות המוביל למגזר החרדי</title>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --blue: #17298d; --red: #cc0000; }
        body { font-family: 'Assistant', sans-serif; background: #f0f2f5; margin: 0; }
        
        /* הדר JDN מקורי */
        header { 
            background: linear-gradient(180deg, #2847f3 0%, #17298d 65%);
            height: 110px; display: flex; justify-content: center; align-items: center;
            border-bottom-left-radius: 50% 25px; border-bottom-right-radius: 50% 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2); position: relative; z-index: 10;
        }
        header img { width: 140px; }

        /* מבזקים אדום */
        .ticker { 
            background: var(--red); color: #fff; padding: 10px; margin-top: -30px;
            text-align: center; font-weight: 800; font-size: 18px; position: relative; z-index: 5;
        }

        .main { max-width: 1140px; margin: 30px auto; padding: 0 15px; display: grid; grid-template-columns: 8fr 4fr; gap: 20px; }
        
        /* כתבה ראשית גדולה */
        .hero { position: relative; height: 450px; border-radius: 4px; overflow: hidden; border-bottom: 8px solid var(--blue); background: #000; }
        .hero img { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; }
        .hero-text { position: absolute; bottom: 0; right: 0; left: 0; padding: 30px; background: linear-gradient(transparent, #000); color: #fff; }
        .hero-text h1 { font-size: 42px; margin: 0; font-weight: 800; }

        /* כתבות בשורות - העתק JDN */
        .item { display: flex; background: #fff; margin-top: 15px; height: 130px; border-radius: 4px; overflow: hidden; border-bottom: 4px solid var(--blue); text-decoration: none; color: inherit; }
        .item img { width: 230px; height: 100%; object-fit: cover; }
        .item-h { padding: 15px 20px; display: flex; align-items: center; flex: 1; }
        .item-h h2 { font-size: 21px; margin: 0; color: var(--blue); font-weight: 700; }

        @media (max-width: 768px) { .main { grid-template-columns: 1fr; } .item { flex-direction: column; height: auto; } }
    </style>
</head>
<body>
    <header><img src="https://www.jdn.co.il/wp-content/themes/jdn/images/logo-white.png"></header>
    <div class="ticker" id="tk">טוען מבזקים...</div>
    <div class="main">
        <div class="content"><div id="h-out"></div><div id="l-out"></div></div>
        <aside><div style="background:#fff; padding:20px; border-top:5px solid var(--blue);"><h3>הכי נקראים</h3></div></aside>
    </div>

    <script>
        async function load() {
            try {
                // שים לב: שיניתי את הכתובת לכתובת הישירה שלך
                const r = await fetch('https://api.github.com/repos/yy0534105830-source/news/contents/content/blog?v=' + Math.random());
                const data = await r.json();
                const latest = data.reverse().slice(0, 10);
                
                for (let f of latest) {
                    const res = await fetch(f.download_url);
                    const t = await res.text();
                    const title = (t.match(/title:\s*"(.*)"/) || t.match(/title:\s*(.*)/))?.[1];
                    const img = t.match(/image:\s*(.*)/)?.[1];
                    const pos = t.match(/layout_position:\s*(.*)/)?.[1] || "side";

                    if (pos.trim() === "top") {
                        document.getElementById('h-out').innerHTML = `<div class="hero"><img src="${img}"><div class="hero-text"><h1>${title}</h1></div></div>`;
                    } else if (pos.trim() === "ticker") {
                        document.getElementById('tk').innerHTML = "מבזק: " + title;
                    } else {
                        document.getElementById('l-out').innerHTML += `<a href="#" class="item"><img src="${img}"><div class="item-h"><h2>${title}</h2></div></a>`;
                    }
                }
            } catch(e) { document.getElementById('tk').innerHTML = "JDN - חדשות"; }
        }
        load();
    </script>
</body>
</html>
